#pragma once

#define NARROW_PTR(x) ((uint32_t)((uint64_t)(x)))

#define RAM_BASE_PHY          0x00000000
#define RAM_BASE_BUS_UNCACHED 0xc0000000
#define RAM_BASE_BUS_CACHED   0x40000000
#define RAM_PHY_TO_BUS_UNCACHED(x) (NARROW_PTR(x) | RAM_BASE_BUS_UNCACHED)

#define PERIPH_ADDR_RANGE_START 0x3f000000
#define PERIPH_ADDR_RANGE_END   0x40000000
#define PERIPH_BASE_PHY         PERIPH_ADDR_RANGE_START
#define PERIPH_ADDR_TO_DMA(__addr) \
  ((NARROW_PTR(__addr) & ~0x3f000000) | 0x7e000000)

#define BCM2835_MEM_PERIPH_BASE PERIPH_BASE_PHY
#define BCM2835_MEM_GPIO_BASE (PERIPH_BASE_PHY + 0x200000)
